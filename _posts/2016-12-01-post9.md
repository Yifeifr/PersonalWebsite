---
layout: post
title: Algorithm-Kth Largest in N Arrays
subtitle: 
author: Yifei
date: 2016-12-01 17:38:08 +0100
categories: Algorithm
tag: Algorithm C++
---

...............................................................

Find K-th largest element in N arrays.

...............................................................

In n=2 arrays [[9,3,2,4,7],[1,2,3,4,8]], the 3rd largest element is 7.

In n=2 arrays [[9,3,2,4,8],[1,2,3,4,2]], the 1st largest element is 9, 2nd largest element is 8, 3rd largest element is 7 and etc.

...............................................................

One solution: https://github.com/Yifeifr/algo/blob/master/Kth%20Largest%20in%20N%20Arrays

...............................................................

struct Node {
    int value;
    int id;
    int index;
    
    Node(int _v, int _id, int _index):
        value(_v), id(_id), index(_index) {}
    
    bool operator < (const Node & obj) const {
        return value < obj.value;
    }
};

class Solution {
public:
    /**
     * @param arrays a list of array
     * @param k an integer
     * @return an integer, K-th largest element in N arrays
     */
    int KthInArrays(vector<vector<int>>& arrays, int k) {
        // Write your code here
        int n = arrays.size();
        priority_queue<Node> queue;
        
        for (int i = 0; i < n; ++i) {
            sort(arrays[i].begin(), arrays[i].end());
            
            if (arrays[i].size() > 0) {
                int id = i;
                int index = arrays[i].size() - 1;
                int value = arrays[i][index];
                queue.push(Node(value, id, index));
            }
        }
        
        for (int i = 0; i < k; ++i) {
            Node tmp = queue.top();
            queue.pop();
            int value = tmp.value;
            int id = tmp.id;
            int index = tmp.index;
            
            if (i == k - 1)
                return value;

            if (index > 0) {
                index --;
                value = arrays[id][index];
                queue.push(Node(value, id, index));
            }
        }
    }
